{"ast":null,"code":"import { useState, useEffect, useContext } from 'react';\nimport Context from '../Context';\nimport Meals from '../services/meals-api';\nimport Drinks from '../services/cocktails-api';\n\nconst filterFoodKeys = food => {\n  const objKeys = Object.keys(food);\n  const filteredIngredientKeys = objKeys.filter(key => key.includes('strIngredient'));\n  const filteredMeasureKeys = objKeys.filter(key => key.includes('strMeasure'));\n  const ingredientsObj = filteredIngredientKeys.map(key => food[key]);\n  const measuresObj = filteredMeasureKeys.map(key => food[key]);\n  const ingredientsObjFiltered = ingredientsObj.filter(ing => ing);\n  const measuresObjFiltered = measuresObj.filter(ing => ing);\n  return [ingredientsObjFiltered, measuresObjFiltered];\n};\n\nconst useLoadRecipeDetails = (id, isMeal) => {\n  const {\n    verifyInProgress,\n    checkFavorite\n  } = useContext(Context);\n  const [meal, setMeal] = useState({});\n  const [drink, setDrink] = useState({});\n  const [meals, setMeals] = useState([]);\n  const [drinks, setDrinks] = useState([]);\n  const [ingredients, setIngredients] = useState([]);\n  const [measures, setMeasures] = useState([]);\n  const [isFetching, setIsFetching] = useState(true);\n  const [inProgress, setInProgress] = useState(false);\n  const [favorite, setFavorite] = useState(false);\n  useEffect(() => {\n    const isInProgress = verifyInProgress(id, isMeal);\n\n    if (isInProgress) {\n      setInProgress(true);\n    }\n  }, [verifyInProgress, id, isMeal]);\n  useEffect(() => {\n    const isFavorite = checkFavorite(id);\n\n    if (isFavorite) {\n      setFavorite(true);\n    } else {\n      setFavorite(false);\n    }\n  }, [id, checkFavorite]);\n  useEffect(() => {\n    const limitToShow = 6;\n\n    if (isMeal) {\n      Meals.getMealDetailsById(id).then(res => {\n        const [filteredIngredients, filteredMeasures] = filterFoodKeys(res);\n        setIngredients(filteredIngredients);\n        setMeasures(filteredMeasures);\n        setMeal(res);\n        setIsFetching(false);\n      }).catch(err => console.log(err));\n      Drinks.getCocktails(limitToShow).then(res => setDrinks(res)).catch(err => console.log(err));\n    }\n\n    if (!isMeal) {\n      Drinks.getCocktailDetailsById(id).then(res => {\n        const [filteredIngredients, filteredMeasures] = filterFoodKeys(res);\n        setIngredients(filteredIngredients);\n        setMeasures(filteredMeasures);\n        setDrink(res);\n        setIsFetching(false);\n      }).catch(err => console.log(err));\n      Meals.getMeals(limitToShow).then(res => setMeals(res)).catch(err => console.log(err));\n    }\n  }, [isMeal, id]);\n  return [meal, drink, meals, drinks, ingredients, measures, isFetching, inProgress, favorite];\n};\n\nexport default useLoadRecipeDetails;","map":{"version":3,"sources":["/home/eric/sd-07-project-recipes-app/src/Hooks/useLoadRecipeDetails.js"],"names":["useState","useEffect","useContext","Context","Meals","Drinks","filterFoodKeys","food","objKeys","Object","keys","filteredIngredientKeys","filter","key","includes","filteredMeasureKeys","ingredientsObj","map","measuresObj","ingredientsObjFiltered","ing","measuresObjFiltered","useLoadRecipeDetails","id","isMeal","verifyInProgress","checkFavorite","meal","setMeal","drink","setDrink","meals","setMeals","drinks","setDrinks","ingredients","setIngredients","measures","setMeasures","isFetching","setIsFetching","inProgress","setInProgress","favorite","setFavorite","isInProgress","isFavorite","limitToShow","getMealDetailsById","then","res","filteredIngredients","filteredMeasures","catch","err","console","log","getCocktails","getCocktailDetailsById","getMeals"],"mappings":"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","sourcesContent":["import { useState, useEffect, useContext } from 'react';\n\nimport Context from '../Context';\n\nimport Meals from '../services/meals-api';\nimport Drinks from '../services/cocktails-api';\n\nconst filterFoodKeys = (food) => {\n  const objKeys = Object.keys(food);\n\n  const filteredIngredientKeys = objKeys.filter((key) => key.includes('strIngredient'));\n  const filteredMeasureKeys = objKeys.filter((key) => key.includes('strMeasure'));\n\n  const ingredientsObj = filteredIngredientKeys.map((key) => food[key]);\n  const measuresObj = filteredMeasureKeys.map((key) => food[key]);\n\n  const ingredientsObjFiltered = ingredientsObj.filter((ing) => ing);\n  const measuresObjFiltered = measuresObj.filter((ing) => ing);\n\n  return [ingredientsObjFiltered, measuresObjFiltered];\n};\n\nconst useLoadRecipeDetails = (id, isMeal) => {\n  const { verifyInProgress, checkFavorite } = useContext(Context);\n\n  const [meal, setMeal] = useState({});\n  const [drink, setDrink] = useState({});\n  const [meals, setMeals] = useState([]);\n  const [drinks, setDrinks] = useState([]);\n  const [ingredients, setIngredients] = useState([]);\n  const [measures, setMeasures] = useState([]);\n\n  const [isFetching, setIsFetching] = useState(true);\n  const [inProgress, setInProgress] = useState(false);\n  const [favorite, setFavorite] = useState(false);\n\n  useEffect(() => {\n    const isInProgress = verifyInProgress(id, isMeal);\n    if (isInProgress) {\n      setInProgress(true);\n    }\n  }, [verifyInProgress, id, isMeal]);\n\n  useEffect(() => {\n    const isFavorite = checkFavorite(id);\n    if (isFavorite) {\n      setFavorite(true);\n    } else {\n      setFavorite(false);\n    }\n  }, [id, checkFavorite]);\n\n  useEffect(() => {\n    const limitToShow = 6;\n\n    if (isMeal) {\n      Meals.getMealDetailsById(id)\n        .then((res) => {\n          const [filteredIngredients, filteredMeasures] = filterFoodKeys(res);\n          setIngredients(filteredIngredients);\n          setMeasures(filteredMeasures);\n          setMeal(res);\n          setIsFetching(false);\n        })\n        .catch((err) => console.log(err));\n\n      Drinks.getCocktails(limitToShow)\n        .then((res) => setDrinks(res))\n        .catch((err) => console.log(err));\n    }\n\n    if (!isMeal) {\n      Drinks.getCocktailDetailsById(id)\n        .then((res) => {\n          const [filteredIngredients, filteredMeasures] = filterFoodKeys(res);\n          setIngredients(filteredIngredients);\n          setMeasures(filteredMeasures);\n          setDrink(res);\n          setIsFetching(false);\n        })\n        .catch((err) => console.log(err));\n\n      Meals.getMeals(limitToShow)\n        .then((res) => setMeals(res))\n        .catch((err) => console.log(err));\n    }\n  }, [isMeal, id]);\n\n  return [\n    meal, drink, meals, drinks, ingredients, measures, isFetching, inProgress, favorite,\n  ];\n};\n\nexport default useLoadRecipeDetails;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/home/eric/sd-07-project-recipes-app/src/Context/RecipesProvider.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport RecipesContext from './index';\nimport Meals from '../services/meals-api';\nimport Drinks from '../services/cocktails-api';\n\nfunction RecipesProvider({\n  children\n}) {\n  const [mealsData, setMealsData] = useState([]);\n  const [mealsFilteredData, setMealsFilteredData] = useState([]);\n  const [mealsCategoryList, setMealsCategoryList] = useState([]);\n  const [currentFilterMealsCategory, setCurrentFilterMealsCategory] = useState('All');\n  const [drinksData, setDrinksData] = useState([]);\n  const [drinksFilteredData, setDrinksFilteredData] = useState([]);\n  const [drinksCategoryList, setDrinksCategoryList] = useState([]);\n  const [currentFilterDrinksCategory, setCurrentFilterDrinksCategory] = useState('All');\n  const [inProgressRecipes, setInProgressRecipes] = useState({});\n  const [favoriteRecipes, setFavoriteRecipes] = useState([]);\n  const [updatingLocalStorage, setUpdatingLocalStorage] = useState(true);\n  const [searchData, setSearchData] = useState('');\n  const [isSearchBarActive, setIsSearchBarActive] = useState(false);\n  useEffect(() => {\n    const inProgressRecipesString = localStorage.getItem('inProgressRecipes');\n    const inProgressRecipesObj = JSON.parse(inProgressRecipesString);\n\n    if (inProgressRecipesObj) {\n      setInProgressRecipes(inProgressRecipesObj);\n    }\n\n    const favoriteRecipesString = localStorage.getItem('favoriteRecipes');\n    const favoriteRecipesObj = JSON.parse(favoriteRecipesString);\n\n    if (favoriteRecipesObj) {\n      setFavoriteRecipes(favoriteRecipesObj);\n    }\n\n    setUpdatingLocalStorage(false);\n  }, []);\n  useEffect(() => {\n    if (!updatingLocalStorage) {\n      localStorage.setItem('inProgressRecipes', JSON.stringify(inProgressRecipes));\n      localStorage.setItem('favoriteRecipes', JSON.stringify(favoriteRecipes));\n    }\n  }, [inProgressRecipes, favoriteRecipes, updatingLocalStorage]);\n  useEffect(() => {\n    setMealsFilteredData(mealsData);\n  }, [mealsData]);\n  useEffect(() => {\n    setDrinksFilteredData(drinksData);\n  }, [drinksData]);\n\n  const handleClickCategoryMeals = async category => {\n    const mealsAmountToShow = 12;\n\n    if (category === 'All') {\n      setMealsFilteredData(mealsData);\n      return setCurrentFilterMealsCategory('All');\n    }\n\n    if (currentFilterMealsCategory !== category) {\n      const meals = await Meals.searchMealsByCategory(category, mealsAmountToShow);\n      setMealsFilteredData(meals);\n      return setCurrentFilterMealsCategory(category);\n    }\n\n    setMealsFilteredData(mealsData);\n    setCurrentFilterMealsCategory('All');\n  };\n\n  const handleClickCategoryDrinks = async category => {\n    const mealsAmountToShow = 12;\n\n    if (category === 'All') {\n      setDrinksFilteredData(drinksData);\n      return setCurrentFilterDrinksCategory('All');\n    }\n\n    if (currentFilterDrinksCategory !== category) {\n      const drinks = await Drinks.searchCocktailsByCategory(category, mealsAmountToShow);\n      setDrinksFilteredData(drinks);\n      return setCurrentFilterDrinksCategory(category);\n    }\n\n    setDrinksFilteredData(drinksData);\n    setCurrentFilterDrinksCategory('All');\n  };\n\n  const verifyInProgress = (id, page) => {\n    const key = page === 'meal' ? 'meals' : 'cocktails';\n\n    if (inProgressRecipes[key]) {\n      const isInProgress = inProgressRecipes[key][id];\n      if (isInProgress) return true;\n    }\n\n    return false;\n  };\n\n  const checkFavorite = id => {\n    const foundRecipe = favoriteRecipes.find(recipe => recipe.id === id);\n    if (foundRecipe) return true;\n    return false;\n  };\n\n  const handleClickFavorite = (recipe, type) => {\n    if (type === 'meal') {\n      const {\n        idMeal,\n        strArea,\n        strCategory,\n        strMeal,\n        strMealThumb\n      } = recipe;\n      const alreadyFavorite = checkFavorite(idMeal);\n\n      if (alreadyFavorite) {\n        const filteredFavoriteRecipes = favoriteRecipes.filter(({\n          id\n        }) => id !== idMeal);\n        return setFavoriteRecipes(filteredFavoriteRecipes);\n      }\n\n      const newFavorite = {\n        id: idMeal,\n        type: type === 'meal' ? 'comida' : 'bebida',\n        area: strArea,\n        category: strCategory,\n        alcoholicOrNot: '',\n        name: strMeal,\n        image: strMealThumb\n      };\n      return setFavoriteRecipes(state => [...state, newFavorite]);\n    }\n\n    const {\n      idDrink,\n      strCategory,\n      strAlcoholic,\n      strDrink,\n      strDrinkThumb\n    } = recipe;\n    const alreadyFavorite = checkFavorite(idDrink);\n\n    if (alreadyFavorite) {\n      const filteredFavoriteRecipes = favoriteRecipes.filter(({\n        id\n      }) => id !== idDrink);\n      return setFavoriteRecipes(filteredFavoriteRecipes);\n    }\n\n    const newFavorite = {\n      id: idDrink,\n      type: type === 'meal' ? 'comida' : 'bebida',\n      area: '',\n      category: strCategory,\n      alcoholicOrNot: strAlcoholic,\n      name: strDrink,\n      image: strDrinkThumb\n    };\n    setFavoriteRecipes(state => [...state, newFavorite]);\n  };\n\n  const handleClickStartRecipe = (id, ingredients, page) => {\n    const key = page === 'meal' ? 'meals' : 'cocktails';\n    const isInProgress = verifyInProgress(id, page);\n\n    if (!isInProgress) {\n      setInProgressRecipes(state => ({ ...state,\n        [key]: { ...state[key],\n          [id]: ingredients\n        }\n      }));\n    }\n  };\n\n  const states = {\n    checkFavorite,\n    handleClickFavorite,\n    verifyInProgress,\n    handleClickStartRecipe,\n    email: '',\n    meal: {\n      mealsData,\n      setMealsData,\n      mealsCategoryList,\n      setMealsCategoryList,\n      mealsFilteredData,\n      setMealsFilteredData,\n      handleClickCategoryMeals\n    },\n    drink: {\n      drinksData,\n      setDrinksData,\n      drinksCategoryList,\n      setDrinksCategoryList,\n      drinksFilteredData,\n      setDrinksFilteredData,\n      handleClickCategoryDrinks\n    },\n    isSearchBarActive,\n    setIsSearchBarActive,\n    searchData,\n    setSearchData\n  };\n  return /*#__PURE__*/React.createElement(RecipesContext.Provider, {\n    value: states,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 5\n    }\n  }, children);\n}\n\nexport default RecipesProvider;\nRecipesProvider.propTypes = {\n  children: PropTypes.element\n};\nRecipesProvider.defaultProps = {\n  children: PropTypes.element\n};","map":{"version":3,"sources":["/home/eric/sd-07-project-recipes-app/src/Context/RecipesProvider.jsx"],"names":["React","useEffect","useState","PropTypes","RecipesContext","Meals","Drinks","RecipesProvider","children","mealsData","setMealsData","mealsFilteredData","setMealsFilteredData","mealsCategoryList","setMealsCategoryList","currentFilterMealsCategory","setCurrentFilterMealsCategory","drinksData","setDrinksData","drinksFilteredData","setDrinksFilteredData","drinksCategoryList","setDrinksCategoryList","currentFilterDrinksCategory","setCurrentFilterDrinksCategory","inProgressRecipes","setInProgressRecipes","favoriteRecipes","setFavoriteRecipes","updatingLocalStorage","setUpdatingLocalStorage","searchData","setSearchData","isSearchBarActive","setIsSearchBarActive","inProgressRecipesString","localStorage","getItem","inProgressRecipesObj","JSON","parse","favoriteRecipesString","favoriteRecipesObj","setItem","stringify","handleClickCategoryMeals","category","mealsAmountToShow","meals","searchMealsByCategory","handleClickCategoryDrinks","drinks","searchCocktailsByCategory","verifyInProgress","id","page","key","isInProgress","checkFavorite","foundRecipe","find","recipe","handleClickFavorite","type","idMeal","strArea","strCategory","strMeal","strMealThumb","alreadyFavorite","filteredFavoriteRecipes","filter","newFavorite","area","alcoholicOrNot","name","image","state","idDrink","strAlcoholic","strDrink","strDrinkThumb","handleClickStartRecipe","ingredients","states","email","meal","drink","propTypes","element","defaultProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport RecipesContext from './index';\nimport Meals from '../services/meals-api';\nimport Drinks from '../services/cocktails-api';\n\nfunction RecipesProvider({ children }) {\n  const [mealsData, setMealsData] = useState([]);\n  const [mealsFilteredData, setMealsFilteredData] = useState([]);\n  const [mealsCategoryList, setMealsCategoryList] = useState([]);\n  const [currentFilterMealsCategory, setCurrentFilterMealsCategory] = useState('All');\n\n  const [drinksData, setDrinksData] = useState([]);\n  const [drinksFilteredData, setDrinksFilteredData] = useState([]);\n  const [drinksCategoryList, setDrinksCategoryList] = useState([]);\n  const [currentFilterDrinksCategory, setCurrentFilterDrinksCategory] = useState('All');\n\n  const [inProgressRecipes, setInProgressRecipes] = useState({});\n  const [favoriteRecipes, setFavoriteRecipes] = useState([]);\n  const [updatingLocalStorage, setUpdatingLocalStorage] = useState(true);\n\n  const [searchData, setSearchData] = useState('');\n  const [isSearchBarActive, setIsSearchBarActive] = useState(false);\n\n  useEffect(() => {\n    const inProgressRecipesString = localStorage.getItem('inProgressRecipes');\n    const inProgressRecipesObj = JSON.parse(inProgressRecipesString);\n\n    if (inProgressRecipesObj) {\n      setInProgressRecipes(inProgressRecipesObj);\n    }\n\n    const favoriteRecipesString = localStorage.getItem('favoriteRecipes');\n    const favoriteRecipesObj = JSON.parse(favoriteRecipesString);\n\n    if (favoriteRecipesObj) {\n      setFavoriteRecipes(favoriteRecipesObj);\n    }\n    setUpdatingLocalStorage(false);\n  }, []);\n\n  useEffect(() => {\n    if (!updatingLocalStorage) {\n      localStorage.setItem('inProgressRecipes', JSON.stringify(inProgressRecipes));\n      localStorage.setItem('favoriteRecipes', JSON.stringify(favoriteRecipes));\n    }\n  }, [inProgressRecipes, favoriteRecipes, updatingLocalStorage]);\n\n  useEffect(() => {\n    setMealsFilteredData(mealsData);\n  }, [mealsData]);\n\n  useEffect(() => {\n    setDrinksFilteredData(drinksData);\n  }, [drinksData]);\n\n  const handleClickCategoryMeals = async (category) => {\n    const mealsAmountToShow = 12;\n\n    if (category === 'All') {\n      setMealsFilteredData(mealsData);\n      return setCurrentFilterMealsCategory('All');\n    }\n\n    if (currentFilterMealsCategory !== category) {\n      const meals = await Meals.searchMealsByCategory(category, mealsAmountToShow);\n      setMealsFilteredData(meals);\n      return setCurrentFilterMealsCategory(category);\n    }\n\n    setMealsFilteredData(mealsData);\n    setCurrentFilterMealsCategory('All');\n  };\n\n  const handleClickCategoryDrinks = async (category) => {\n    const mealsAmountToShow = 12;\n\n    if (category === 'All') {\n      setDrinksFilteredData(drinksData);\n      return setCurrentFilterDrinksCategory('All');\n    }\n\n    if (currentFilterDrinksCategory !== category) {\n      const drinks = await Drinks.searchCocktailsByCategory(category, mealsAmountToShow);\n      setDrinksFilteredData(drinks);\n      return setCurrentFilterDrinksCategory(category);\n    }\n\n    setDrinksFilteredData(drinksData);\n    setCurrentFilterDrinksCategory('All');\n  };\n\n  const verifyInProgress = (id, page) => {\n    const key = page === 'meal' ? 'meals' : 'cocktails';\n\n    if (inProgressRecipes[key]) {\n      const isInProgress = inProgressRecipes[key][id];\n      if (isInProgress) return true;\n    }\n    return false;\n  };\n\n  const checkFavorite = (id) => {\n    const foundRecipe = favoriteRecipes.find((recipe) => recipe.id === id);\n\n    if (foundRecipe) return true;\n    return false;\n  };\n\n  const handleClickFavorite = (recipe, type) => {\n    if (type === 'meal') {\n      const { idMeal, strArea, strCategory, strMeal, strMealThumb } = recipe;\n\n      const alreadyFavorite = checkFavorite(idMeal);\n\n      if (alreadyFavorite) {\n        const filteredFavoriteRecipes = favoriteRecipes.filter(({ id }) => id !== idMeal);\n        return setFavoriteRecipes(filteredFavoriteRecipes);\n      }\n\n      const newFavorite = {\n        id: idMeal,\n        type: type === 'meal' ? 'comida' : 'bebida',\n        area: strArea,\n        category: strCategory,\n        alcoholicOrNot: '',\n        name: strMeal,\n        image: strMealThumb,\n      };\n\n      return setFavoriteRecipes((state) => [...state, newFavorite]);\n    }\n\n    const { idDrink, strCategory, strAlcoholic, strDrink, strDrinkThumb } = recipe;\n\n    const alreadyFavorite = checkFavorite(idDrink);\n\n    if (alreadyFavorite) {\n      const filteredFavoriteRecipes = favoriteRecipes.filter(({ id }) => id !== idDrink);\n      return setFavoriteRecipes(filteredFavoriteRecipes);\n    }\n\n    const newFavorite = {\n      id: idDrink,\n      type: type === 'meal' ? 'comida' : 'bebida',\n      area: '',\n      category: strCategory,\n      alcoholicOrNot: strAlcoholic,\n      name: strDrink,\n      image: strDrinkThumb,\n    };\n\n    setFavoriteRecipes((state) => [...state, newFavorite]);\n  };\n\n  const handleClickStartRecipe = (id, ingredients, page) => {\n    const key = page === 'meal' ? 'meals' : 'cocktails';\n\n    const isInProgress = verifyInProgress(id, page);\n\n    if (!isInProgress) {\n      setInProgressRecipes((state) => ({\n        ...state,\n        [key]: { ...state[key], [id]: ingredients },\n      }));\n    }\n  };\n\n  const states = {\n    checkFavorite,\n    handleClickFavorite,\n    verifyInProgress,\n    handleClickStartRecipe,\n    email: '',\n    meal: {\n      mealsData,\n      setMealsData,\n      mealsCategoryList,\n      setMealsCategoryList,\n      mealsFilteredData,\n      setMealsFilteredData,\n      handleClickCategoryMeals,\n    },\n    drink: {\n      drinksData,\n      setDrinksData,\n      drinksCategoryList,\n      setDrinksCategoryList,\n      drinksFilteredData,\n      setDrinksFilteredData,\n      handleClickCategoryDrinks,\n    },\n    isSearchBarActive,\n    setIsSearchBarActive,\n    searchData,\n    setSearchData,\n  };\n\n  return (\n    <RecipesContext.Provider value={ states }>\n      {children}\n    </RecipesContext.Provider>\n  );\n}\n\nexport default RecipesProvider;\n\nRecipesProvider.propTypes = {\n  children: PropTypes.element,\n};\n\nRecipesProvider.defaultProps = {\n  children: PropTypes.element,\n};\n"]},"metadata":{},"sourceType":"module"}